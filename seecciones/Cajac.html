<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CiarOffice - Caja Chica</title>
    <link rel="stylesheet" href="../css/caja.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
    </style>
</head>
<body>
    <div class="encabezado">
        <div class="header-left">
            <h1 class="app-title">
                <img src="../img/logo2.png" alt="logo">
                CiarOffice
            </h1>
        </div>
        <div class="header-right">
            <div class="user-info">
                <i class="fas fa-user-circle"></i>
                <span class="user-name" id="userName">Cargando...</span>
                <span class="user-role" id="userRole"></span>
            </div>
            <button class="logout-btn" onclick="window.location.href='../dashboard.html'">
                <i class="fas fa-sign-out-alt"></i>
                Volver
            </button>
        </div>
    </div>
    <!-- Agrega este HTML al final de tu body para el modal de notificación -->
<div id="notificationModal" class="modal">
</div>
    <div class="container">
        <div class="cont-card">
            <div class="card" onclick="openCajaModal()">
                <h2>Crear Caja</h2>
                <span><i class="fas fa-plus-circle"></i></span>
                <p>Click para crear nueva caja</p>
            </div>
            <div class="card">
                <h2>Caja Actual</h2>
                <p id="cajaId">Cargando...</p>
                <span id="saldoActual">S/. 0.00</span>
                <p>Saldo Disponible</p>
                <p class="est-caja" id="cajaEstado">Activo</p>
            </div>
            <div class="card">
                <h2>Presupuesto</h2>
                <span id="montoInicial">S/. 0.00</span>
                <progress id="nativeProg" value="0" max="100"></progress>
                <p class="sold" id="porcentaje">0% de 0.00</p>
            </div>
            <div class="card">
                <h2>Hoy</h2>
                <span id="gastoDia">S/. 0.00</span>
                <p>Gasto del día</p>
            </div>
        </div>
        <div class="conte-tabla">
            <h2>Registro de Gasto</h2>
            <button class="add-gasto-btn" onclick="openGastoModal()">Registrar Gasto</button>
            <div class="cont">
                <table border="1" cellpadding="8" cellspacing="0">
                    <thead>
                        <tr>
                            <th>Descripción</th>
                            <th>Tipo</th>
                            <th>Número</th>
                            <th>Fecha</th>
                            <th>Monto</th>
                            <th>Caja</th>
                        </tr>
                    </thead>
                    <tbody id="gastosTableBody">
                        <!-- Gastos se llenarán dinámicamente -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal para crear caja -->
    <div id="cajaModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCajaModal()">&times;</span>
            <h2>Crear Nueva Caja</h2>
            <form id="cajaForm">
                <label for="idAdmin">ID Administrador:</label>
                <input type="text" id="idAdmin" name="idAdmin" required>
                <label for="montoInicial">Monto Inicial:</label>
                <input type="number" id="montoInicialForm" name="montoInicial" step="0.01" required>
                <label for="fechaEntrega">Fecha de Entrega:</label>
                <input type="date" id="fechaEntrega" name="fechaEntrega" required>
                <button type="submit">Crear Caja</button>
            </form>
        </div>
    </div>

    <!-- Modal para registrar gasto -->
    <div id="gastoModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeGastoModal()">&times;</span>
            <h2>Registrar Gasto</h2>
            <form id="gastoForm">
                <label for="idCaja">ID Caja:</label>
                <input type="text" id="idCaja" name="idCaja" required readonly>
                <label for="descripcion">Descripción:</label>
                <input type="text" id="descripcion" name="descripcion" required>
                <label for="monto">Monto:</label>
                <input type="number" id="monto" name="monto" step="0.01" required>
                <label for="tipoComprobante">Tipo de Comprobante:</label>
                <select id="tipoComprobante" name="tipoComprobante" required>
                    <option value="Boleta">Boleta</option>
                    <option value="Factura">Factura</option>
                    <option value="Recibo">Recibo</option>
                </select>
                <label for="nroComprobante">Nº Comprobante:</label>
                <input type="text" id="nroComprobante" name="nroComprobante" required>
                <label for="fechaGasto">Fecha:</label>
                <input type="date" id="fechaGasto" name="fechaGasto" required>
                <button type="submit">Registrar Gasto</button>
            </form>
        </div>
    </div>
    <script src="../js/caja.js"></script>
<script src="../js/panel.js"></script>
</body>
</html>